---
title: http
date: 2020-05-22 13:41:46
tags:
---

## 一、常用的状态码
200：请求成功
301：重定向(长久), 从响应的Location里拿地址(搜索引擎)
302：重定向(临时, url请求的资源已经被暂时移动),从响应的Location里拿地址
304：Not Modified 请求资源从缓存里拿（协商缓存）
400：坏的请求, 客户端请求的语法不对
401：身份未认证
403：服务器端拒绝客户端请求
404：客户端静态资源不存在
405：请求方式被禁止
413：请求实体过长
500：服务端出错
504：超时

## 二、TCP连接
1、3次握手：客户端和服务器端建立一条连接需要发3次报文
    第一次：客户端向服务器端发送请求，等候服务器端回应
    第二次：服务器端向客户端回应消息
    第三次：客户端告知服务器端收到消息了
2、为什么是3次握手不是2次呢？
    避免服务器端对失效的连接请求做出回应
    eg：如果只有2次握手，当客户端向服务器端发出的请求 因为某些原因, 直到75s还没有收到任何回应, 当前连接就失效了，客户端会重新发送。如果那个失效的连接请求抵达了服务端, 服务器端做出了回应, 但此时的客户端早已进入CLOSED状态，不会在进行处理了，而服务器端将一直等下去，这样就浪费了服务端连接资源。

## 三、ajax请求
``` bash
    //步骤一:创建异步对象
    var ajax = new XMLHttpRequest();
    //步骤二:设置请求的url参数,参数一是请求的类型,参数二是请求的url,可以带参数,动态的传递参数starName到服务端
    ajax.open('get','getStar.php?starName='+name);
    //步骤三:发送请求
    ajax.send();
    //步骤四:注册事件 onreadystatechange 状态改变就会调用
    ajax.onreadystatechange = function () {
        if (ajax.readyState == 4 &&ajax.status == 200) {
            //步骤五 如果能够进到这个判断 说明 数据 完美的回来了,并且请求的页面是存在的
    　　　　console.log(ajax.responseText);//输入相应的内容
    　　}
    }
    readyState有哪些值：
        0: 请求未初始化
        1: 服务器连接已建立
        2: 请求已接收
        3: 请求处理中
        4: 请求已完成，且响应已就绪
    status有哪些值
        200: "OK"
        404: 未找到页面
```

## 四、HTTP与HTTPS有什么区别？
1、https,超文本传输安全协议, 默认443 端口, 采用ssl/tls公钥加密技术,较安全
2、http, 超文本传输协议,默认80 端口, 以明文方式发送内容, 安全性较差, 被用于在 Web 浏览器和网站服务器之间传递信息。
区别：
a、HTTP 明文传输，数据都是未加密的，安全性较差，HTTPS（SSL+HTTP） 数据传输过程是加密的，安全性较好。
b、使用 HTTPS 协议需要到 CA（Certificate Authority，数字证书认证机构） 申请证书，一般免费证书较少，因而需要一定费用。证书颁发机构如：Symantec、Comodo、GoDaddy 和 GlobalSign 等。
c、HTTP 页面响应速度比 HTTPS 快，主要是因为 HTTP 使用 TCP 三次握手建立连接，客户端和服务器需要交换 3 个包，而 HTTPS除了 TCP 的三个包，还要加上 ssl 握手需要的 9 个包，所以一共是 12 个包。
d、http 和 https 使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443。
e、HTTPS 其实就是建构在 SSL/TLS 之上的 HTTP 协议，所以，要比较 HTTPS 比 HTTP 要更耗费服务器资源。

## 五、HTTP2的新特性
二进制分帧
首部压缩
流量控制
多路复用
请求优先级
服务器推送

## 六、TCP和UPD的区别
1、TCP是面向连接的可靠传输(报文), 传输数据量比较大，速度比较慢
2、UPD是面向非连接的不可靠传输(数据包), 传输数据量比较小，速度比较快
连接的意思：
    非连接：不管对方是什么状态，直接发送消息，不关心对方有没有回复，比如：发短信
    连接：通信之前必须和对方建立可靠连接， 比如：打电话

## 七、说说对http的理解
http超文本传输协议，是基于tcp的可靠传输，定义了客户端、服务端请求和响应的规则，是无状态的，不会记录用户身份

## 八、ajax请求方式有哪些及区别
get：获取、查询数据
post：新增、创建数据
put：修改数据
patch：局部更新数据
delete：删除数据

put和patch的区别：
假设我们有一个UserInfo，里面有userId， userName， userGender等10个字段。可你的编辑功能因为需求，在某个特别的页面里只能修改userName，这时候的更新怎么做？
人们通常(为徒省事)把一个包含了修改后userName的完整userInfo对象传给后端，做完整更新。但仔细想想，这种做法很浪费带宽
于是patch诞生，只传一个userName到指定资源去，表示该请求是一个局部更新，后端仅更新接收到的字段



